@model CatalogoViewModel

@{
    ViewData["Title"] = "Cat√°logo de Cursos";
}

<div class="catalogo-container">
    <div class="catalogo-header">
        <h2>üìö Cat√°logo de Cursos</h2>
    </div>

    <div class="filtros-container">
        <form method="get">
            <div class="row">
                <div class="col-md-3">
                    <label class="form-label">Nombre del curso</label>
                    <input type="text" name="NombreFiltro" value="@Model.NombreFiltro" 
                           class="form-control" placeholder="Buscar por nombre...">
                </div>
                <div class="col-md-2">
                    <label class="form-label">Cr√©ditos m√≠n.</label>
                    <input type="number" name="CreditosMin" value="@Model.CreditosMin" 
                           class="form-control" placeholder="M√≠n" min="1">
                </div>
                <div class="col-md-2">
                    <label class="form-label">Cr√©ditos m√°x.</label>
                    <input type="number" name="CreditosMax" value="@Model.CreditosMax" 
                           class="form-control" placeholder="M√°x" min="1">
                </div>
                <div class="col-md-2">
                    <label class="form-label">Horario desde</label>
                    <input type="time" name="HorarioDesde" 
                        value="@(Model.HorarioDesde.HasValue && Model.HorarioDesde.Value != TimeSpan.Zero ? Model.HorarioDesde.Value.ToString(@"hh\:mm") : "")" 
                        class="form-control">
                </div>
                <div class="col-md-2">
                    <label class="form-label">Horario hasta</label>
                    <input type="time" name="HorarioHasta" 
                        value="@(Model.HorarioHasta.HasValue && Model.HorarioHasta.Value != TimeSpan.Zero ? Model.HorarioHasta.Value.ToString(@"hh\:mm") : "")" 
                        class="form-control">
                </div>
                <div class="col-md-1 d-flex align-items-end">
                    <button type="submit" class="btn btn-primary">
                        <span>üîç</span> Filtrar
                    </button>
                </div>
            </div>
        </form>
    </div>

    <div class="row">
        @foreach (var curso in Model.Cursos)
        {
            <div class="col-md-4 mb-4">
                <div class="curso-card">
                    <div class="card-body">
                        <h5 class="card-title">@curso.Nombre</h5>
                        <p class="card-text">
                            <strong>C√≥digo:</strong> @curso.Codigo<br>
                            <strong>Cr√©ditos:</strong> @curso.Creditos<br>
                            <strong>Horario:</strong> @curso.HorarioInicio.ToString(@"hh\:mm") - @curso.HorarioFin.ToString(@"hh\:mm")<br>
                            <strong>Cupo:</strong> @curso.CupoMaximo
                        </p>
                        <div class="mt-auto">
                            <a href="@Url.Action("Detalle", new { id = curso.Id })" 
                            class="btn btn-primary w-100">
                                <span>üëÅÔ∏è</span> Ver Detalles
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        }
    </div>

    @if (!Model.Cursos.Any())
    {
        <div class="alert alert-info">
            <div class="text-center">
                <h5>üì≠ No se encontraron cursos</h5>
                <p class="mb-0">Intenta ajustar los filtros de b√∫squeda.</p>
            </div>
        </div>
    }
</div>